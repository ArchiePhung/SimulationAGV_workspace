/*==================================================================================================
*   Project              :  MAIN AI CONTROL
*   Doccument            :  ESP32S 
*   FileName             :  cancontrol.h
*   File Description     :  Khai bao cac ham su dung giao thuc can
*
==================================================================================================*/
/*==================================================================================================
Revision History:
Modification     
    Author                  	Date D/M/Y     Description of Changes
----------------------------	----------     ------------------------------------------
    Do Xuan An              	30/07/2020     Tao file
----------------------------	----------     ------------------------------------------
==================================================================================================*/
#ifndef __CAN_CONTROL_H
#define __CAN_CONTROL_H 
/*==================================================================================================
*                                        INCLUDE FILES
==================================================================================================*/
#include <Arduino.h>
#include "ESP32CAN.h"
#include "CAN_config.h"
/*==================================================================================================
*                                        FILE VERSION 
==================================================================================================*/

/*==================================================================================================
*                                          CONSTANTS
==================================================================================================*/

/*==================================================================================================
*                                      DEFINES AND MACROS
==================================================================================================*/

/*==================================================================================================
*                                             ENUMS
==================================================================================================*/

/*==================================================================================================
*                                STRUCTURES AND OTHER TYPEDEFS
==================================================================================================*/

/*==================================================================================================
*                                             CLASS
==================================================================================================*/
class CAN_manager
{
    private:
    CAN_speed_t _baud_speed;
    gpio_num_t _tx;
    gpio_num_t _rx;
    CAN_frame_format_t _frame;
    uint32_t _can_id;
    uint8_t _send_size ;

    public:

    CAN_manager(CAN_speed_t ,gpio_num_t ,gpio_num_t , CAN_frame_format_t ,uint32_t , uint8_t );

    void CAN_prepare(void);
    bool CAN_ReceiveFrom(int);
    uint8_t GetByteReceived(unsigned char);


    bool CAN_Send();
    void SetByteTransmit(uint8_t,unsigned char);

    ~CAN_manager();
};
#endif /*<!__CAN_CONTROL_H>*/
//------------------------------------------END FILE----------------------------------------------//
